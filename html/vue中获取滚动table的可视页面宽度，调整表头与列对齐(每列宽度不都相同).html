<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修vue中获取滚动table的可视页面宽度，调整表头与列对齐(每列宽度不都相同)' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>vue中获取滚动table的可视页面宽度，调整表头与列对齐(每列宽度不都相同)</center></div><div class='banquan'>原文出处:本文由博客园博主一个一提供。<br/>
原文连接:https://www.cnblogs.com/yyiyu/p/11363001.html</div><br>
    <div class="cnblogs_code">
<pre><code><span style="color: #000000;">mounted() {<br />　　　　  // 在mounted中监听表格scroll事件
        </span><span style="color: #0000ff;">this</span>.$refs.scrollTable.addEventListener( 'scroll',(event) =&gt;<span style="color: #000000;"> {
            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.adjustTable(event);
        });
    },
......
<br />// target中的属性很多，可以通过控制台查看&mdash;-clientWidth可以获取除滚动条外的可视区域宽度</span></pre>
<pre><code><span style="color: #000000;">adjustTable(event) {
            </span><span style="color: #0000ff;">this</span>.clientWidth =<span style="color: #000000;"> event.target.clientWidth;
        },
                </span></pre>
</div>
<p>获取clientWidth，可以调整表头与列对齐（最后一列的宽度不设置）</p>
<div class="cnblogs_code">
<pre><code>&lt;table class="cl-body-table" cellpadding="0" cellspacing="0"&gt;
        &lt;thead  :style="{'width':clientWidth+'px'}"&gt;
            &lt;th  style="width:8%"&gt;&lt;/th&gt;
            &lt;th class="cl-thead-th"&gt;&lt;/th&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;&lt;/tbody&gt;
&lt;/table&gt;
<span style="color: #000000;">
.......</span></pre>
<div>
<div>// 表格滚动</div>
<div>　　table tbody {</div>
<div>　　　　display: block;</div>
<div>　　　　height: 495px;</div>
<div>　　　　overflow-y: auto;</div>
<div>　　　　overflow-x: hidden;</div>
<div>　　}</div>
<div>// 表头固定</div>
<div>　　table thead,</div>
<div>　　tbody tr {</div>
<div>　　　　display: table;</div>
<div>　　　　table-layout: fixed; /* 使用表格固定算法 必须配合上面一起使用 */</div>
<div>　　　　width: 100%;</div>
<div>　　}</div>
<div>//列宽度</div>
</div>
<pre><code><span style="color: #000000;">.cl</span>-thead-<span style="color: #000000;">th {
        </span>&amp;.is-not-<span style="color: #000000;">last {
            width:</span>13.142857143%  // 最后一列不设宽度，才能表头与列对齐<span style="color: #000000;">
        }
    }</span></pre>
</div>
<p>网上最简单的表头与列对齐，由于我第一列的宽度与其他列宽度不同，导致始终不能对齐。因此我采用以下方法无效</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> 表格滚动</span>
<span style="color: #000000;">table tbody {
    display: block;
    height: 495px;            
    overflow</span>-<span style="color: #000000;">y: auto;
    overflow</span>-<span style="color: #000000;">x: hidden;
}
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 表头固定</span>
<span style="color: #000000;">table thead,
tbody tr { 
    display: table;
    table</span>-layout: fixed; <span style="color: #008000;">/*</span><span style="color: #008000;"> 使用表格固定算法 必须配合上面一起使用 </span><span style="color: #008000;">*/</span><span style="color: #000000;">
    width: </span>100%<span style="color: #000000;">;
}
</span><span style="color: #008000;">// </span><span style="color: #008000;">调整表头与列对齐</span>
<span style="color: #000000;">table thead {
    width:calc(</span>100%-<span style="color: #000000;">2em)
}</span></pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>
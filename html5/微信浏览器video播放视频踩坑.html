<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修微信浏览器video播放视频踩坑' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>微信浏览器video播放视频踩坑</center></div><div class='banquan'>原文出处:本文由博客园博主池月提供。<br/>
原文连接:https://www.cnblogs.com/-867259206/p/10864479.html</div><br>
    <h2 id="video属性介绍">video属性介绍</h2>
<h4 id="ios的属性">iOS的属性</h4>
<blockquote>
<p>playsinline</p>
</blockquote>
<ul>
<li>On iPhone, video playsinline elements will now be allowed to play inline, and will not automatically enter fullscreen mode when playback begins.</li>
<li>video elements without playsinline attributes will continue to require fullscreen mode for playback on iPhone.</li>
<li>When exiting fullscreen with a pinch gesture, video elements without playsinline will continue to play inline.</li>
</ul>
<p><a href="https://webkit.org/blog/6784/new-video-policies-for-ios/">来源-webkit官网-New video policiesfor iOS</a></p>
<p>iOS设置了这个属性就不会自动全屏了，但是Android微信和QQ有腾讯的限制，仍旧会自动全屏。</p>
<h4 id="腾讯x5属性">腾讯X5属性</h4>
<blockquote>
<p>x5-video-player-type</p>
</blockquote>
<p>启用Ｈ5同层播放器</p>
<p>H5同层播放器：DOM可以浮在<code>video</code>上面</p>
<p>非H5同层播放器：<code>video</code>元素在最上层<br />
（ 微信里会有腾讯的广告 ）</p>
<blockquote>
<p>x5-video-player-fullscreen</p>
</blockquote>
<p>全屏方式</p>
<p>视频播放时将会进入到全屏模式<br />
如果不申明此属性，页面得到视口区域为原始视口大小(视频未播放前)，比如在微信里，会有一个常驻的标题栏，如果不声明此属性，这个标题栏高度不会给页面，播放时会平均分为两块（上下黑块）</p>
<p><a href="https://x5.tencent.com/tbs/guide/video.html">来源-腾讯浏览服务-H5同层播放器接入规范</a></p>
<h2 id="相关css">相关CSS</h2>
<blockquote>
<p>object-fit: 控制视频填充方式</p>
<p>object-position: 控制视频显示位置</p>
</blockquote>
<h2 id="问题">问题</h2>
<h4 id="全面屏适配">全面屏适配</h4>
<blockquote>
<p>x5-video-player-fullscreen=&quot;true&quot;</p>
</blockquote>
<p>视频会铺满屏幕，但是H5同层播放器的顶部栏位置在刘海下面。因此刘海位置的视频不会被顶部栏遮盖。</p>
<blockquote>
<p>x5-video-player-fullscreen=&quot;false&quot;</p>
</blockquote>
<p>视频不会铺满屏幕，大多数机型和H5同层播放器大小一致，刘海处黑色。部分机型，如小米8，则有问题。</p>
<h5 id="实际效果">实际效果</h5>
<p>是否启用同层播放器都会自动进入全屏，区别是全屏使用的播放器不同。</p>
<h6 id="案例">案例：</h6>
<p>轻视频：<a href="https://bbq.bilibili.com/video/?id=1555503785030009990&amp;from=singlemessage">示例</a></p>
<p>没有启用H5同层播放器，但播放不会自动进入全屏。网上有说法，视频格式是立体声的，不会自动进入全屏。轻视频的视频格式确实是立体声的，但使用轻视频的视频试验，仍旧会自动进入全屏。<br />
（此处有没有大佬解答！！）</p>
<p>快手：<a href="http://m.gifshow.com/fw/photo/3xm7huh44j93ay6">示例</a></p>
<p>快手复制链接到微信，提示用浏览器打开。直接从快手APP分享到微信，才能在微信打开。</p>
<p>启用H5同层浏览器，自动进入全屏。</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>
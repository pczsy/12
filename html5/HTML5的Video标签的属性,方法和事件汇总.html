<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修HTML5的Video标签的属性,方法和事件汇总' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>HTML5的Video标签的属性,方法和事件汇总</center></div><div class='banquan'>原文出处:本文由博客园博主boonya提供。<br/>
原文连接:https://www.cnblogs.com/boonya/p/10983066.html</div><br>
    <p>前段时间写了一个基于html5 video的视频播放器，从起初的对其不了解，然后到能够写一个基本完善的自定义播放器。在这个过程中，对video标签的属性，方法，事件有了个全面的认识。下面分类列出来一下。</p>
<div>
<div>
<h2>&lt;video&gt;标签的属性##</h2>
<hr />
<ul>
<li>src ：视频的属性</li>
<li>poster：视频封面，没有播放时显示的图片</li>
<li>preload：预加载</li>
<li>autoplay：自动播放</li>
<li>loop：循环播放</li>
<li>controls：浏览器自带的控制条</li>
<li>width：视频宽度</li>
<li>height：视频高度</li>
</ul>
<p><strong>html 代码</strong></p>
<pre><code><code>  &lt;video id=<span class="hljs-string">"media" src=<span class="hljs-string">"http://www.sundxs.com/test.mp4" controls width=<span class="hljs-string">"400px" heigt=<span class="hljs-string">"400px"&gt;<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">video&gt;  
  <span class="hljs-comment">//audio和video都可以通过JS获取对象,JS通过id获取video和audio的对象
</span></span></span></span></span></span></span></span></code></pre>
<p><strong>获取video对象</strong></p>
<pre><code><code>  Media = <span class="hljs-built_in">document.getElementById(<span class="hljs-string">"media"); 
</span></span></code></pre>
<h2>Media方法和属性：##</h2>
<blockquote>
<p>HTMLVideoElement和HTMLAudioElement 均继承自HTMLMediaElement</p>
</blockquote>
<ul>
<li>Media.error; //null:正常</li>
<li>Media.error.code; //1.用户终止 2.网络错误 3.解码错误 4.URL无效</li>
</ul>
<p>***//网络状态 ***</p>
<ul>
<li>Media.currentSrc; //返回当前资源的URL</li>
<li>Media.src = value; //返回或设置当前资源的URL</li>
<li>Media.canPlayType(type); //是否能播放某种格式的资源</li>
<li>Media.networkState; //0.此元素未初始化 1.正常但没有使用网络 2.正在下载数据 3.没有找到资源</li>
<li>Media.load(); //重新加载src指定的资源</li>
<li>Media.buffered; //返回已缓冲区域，TimeRanges</li>
<li>Media.preload; //none:不预载 metadata:预载资源信息 auto:</li>
</ul>
<p>***//准备状态 ***</p>
<ul>
<li>Media.readyState;//1:HAVE_NOTHING 2:HAVE_METADATA 3.HAVE_CURRENT_DATA 4.HAVE_FUTURE_DATA 5.HAVE_ENOUGH_DATA</li>
<li>Media.seeking; //是否正在seeking</li>
</ul>
<p>***//回放状态 ***</p>
<ul>
<li>Media.currentTime = value; //当前播放的位置，赋值可改变位置</li>
<li>Media.startTime; //一般为0，如果为流媒体或者不从0开始的资源，则不为0</li>
<li>Media.duration; //当前资源长度 流返回无限</li>
<li>Media.paused; //是否暂停</li>
<li>Media.defaultPlaybackRate = value;//默认的回放速度，可以设置</li>
<li>Media.playbackRate = value;//当前播放速度，设置后马上改变</li>
<li>Media.played; //返回已经播放的区域，TimeRanges，关于此对象见下文</li>
<li>Media.seekable; //返回可以seek的区域 TimeRanges</li>
<li>Media.ended; //是否结束</li>
<li>Media.autoPlay; //是否自动播放</li>
<li>Media.loop; //是否循环播放</li>
<li>Media.play(); //播放</li>
<li>Media.pause(); //暂停</li>
</ul>
<p>*** //视频控制 ***</p>
<ul>
<li>Media.controls;//是否有默认控制条</li>
<li>Media.volume = value; //音量</li>
<li>Media.muted = value; //静音<br />
***TimeRanges(区域)对象  ***</li>
<li>TimeRanges.length; //区域段数</li>
<li>TimeRanges.start(index) //第index段区域的开始位置</li>
<li>TimeRanges.end(index) //第index段区域的结束位置</li>

</ul>
<p><strong><em>//相关事件</em></strong></p>
<pre><code><code>  <span class="hljs-keyword">var eventTester = <span class="hljs-function"><span class="hljs-keyword">function(<span class="hljs-params">e){
     Media.addEventListener(e,<span class="hljs-function"><span class="hljs-keyword">function(<span class="hljs-params">){
         <span class="hljs-built_in">console.log((<span class="hljs-keyword">new <span class="hljs-built_in">Date()).getTime(),e)
     },<span class="hljs-literal">false);
 }
</span></span></span></span></span></span></span></span></span></span></span></code></pre>
<ul>
<li>eventTester("loadstart"); //客户端开始请求数据</li>
<li>eventTester("progress"); //客户端正在请求数据</li>
<li>eventTester("suspend"); //延迟下载</li>
<li>eventTester("abort"); //客户端主动终止下载（不是因为错误引起）</li>
<li>eventTester("loadstart"); //客户端开始请求数据</li>
<li>eventTester("progress"); //客户端正在请求数据</li>
<li>eventTester("suspend"); //延迟下载</li>
<li>eventTester("abort"); //客户端主动终止下载（不是因为错误引起），</li>
<li>eventTester("error"); //请求数据时遇到错误</li>
<li>eventTester("stalled"); //网速失速</li>
<li>eventTester("play"); //play()和autoplay开始播放时触发</li>
<li>eventTester("pause"); //pause()触发</li>
<li>eventTester("loadedmetadata"); //成功获取资源长度</li>
<li>eventTester("loadeddata"); //</li>
<li>eventTester("waiting"); //等待数据，并非错误</li>
<li>eventTester("playing"); //开始回放</li>
<li>eventTester("canplay"); //可以播放，但中途可能因为加载而暂停</li>
<li>eventTester("canplaythrough"); //可以播放，歌曲全部加载完毕</li>
<li>eventTester("seeking"); //寻找中</li>
<li>eventTester("seeked"); //寻找完毕</li>
<li>eventTester("timeupdate"); //播放时间改变</li>
<li>eventTester("ended"); //播放结束</li>
<li>eventTester("ratechange"); //播放速率改变</li>
<li>eventTester("durationchange"); //资源长度改变</li>
<li>eventTester("volumechange"); //音量改变</li>
</ul>
<hr />
<p>Github 视频播放器项目:<a href="https://link.jianshu.com?t=https://github.com/robinma/videoplayer" rel="nofollow" target="_blank">videoplayer</a></p>
<p><strong>extend read:</strong><br />
<a href="https://link.jianshu.com?t=http://msdn.microsoft.com/zh-cn/library/ie/ff975073.aspx" rel="nofollow" target="_blank">video object</a><br />
<a href="https://link.jianshu.com?t=http://msdn.microsoft.com/zh-cn/library/ie/hh924822.aspx" rel="nofollow" target="_blank">使用 HTML5 视频事件</a></p>

</div>

<br /><br />作者：筱桀<br />链接：https://www.jianshu.com/p/404d01b8e713<br />来源：简书<br />简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>
<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修一文入门HTML5' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>一文入门HTML5</center></div><div class='banquan'>原文出处:本文由博客园博主鲲逸鹏提供。<br/>
原文连接:https://www.cnblogs.com/dotnetcrazy/p/10542063.html</div><br>
    <h1 id="html5">1.HTML5</h1>
<p>上节回顾：<a href="https://www.cnblogs.com/dotnetcrazy/p/10061671.html" target="_blank">一文读懂ES6（附PY3对比）</a> | <a href="https://www.cnblogs.com/dotnetcrazy/p/10118756.html" target="_blank">一文入门NodeJS</a></p>
<p>演示demo：<a href="https://github.com/lotapp/BaseCode/tree/master/javascript/0.H5_C3/H5" class="uri">https://github.com/lotapp/BaseCode/tree/master/javascript/0.H5_C3/H5</a></p>
<p>参考文档：<a href="https://www.w3cschool.cn/html5" class="uri">https://www.w3cschool.cn/html5</a> | <a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/HTML5" class="uri">https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/HTML5</a></p>
<p>HTML5主要目的是为了在移动设备上支持多媒体，eg：<code>&lt;video&gt;</code>、<code>&lt;audio&gt;</code>、<code>&lt;canvas&gt;</code>（PS：Flash太重量级）</p>
<p>这么多年下来了，有些API被广泛支持，有些API逐渐淡化在视线中了（eg：<code>WebSQL</code>、<code>IndexedDB</code>等）</p>
<p>我们来看下<code>常用</code>的新特性：</p>
<ol>
<li>取消了过时的一些显示效果标记，eg：<code>&lt;font&gt;</code>、<code>&lt;center&gt;</code>
<ul>
<li>PS：用CSS实现</li>
</ul></li>
<li>新表单元素引入
<ul>
<li>eg：input新的type：<code>number</code>、<code>url</code>、<code>email</code>...</li>
</ul></li>
<li>新语义标签的引入
<ul>
<li>eg：<code>&lt;nav&gt;</code>、<code>&lt;header&gt;</code>、<code>&lt;footer&gt;</code>...</li>
</ul></li>
<li>多媒体以及图形方面的扩展
<ul>
<li>eg：<code>&lt;canvas&gt;</code>、<code>&lt;video&gt;</code>、<code>&lt;audio&gt;</code></li>
</ul></li>
<li>web本地存储
<ul>
<li>eg：<code>localStorage</code></li>
</ul></li>
<li>一些HTML5提供的API</li>
</ol>
<p>优点：<strong>跨平台</strong></p>
<p>PC端支持不是特别友好<br />
- PS：主要是低版本浏览器不太支持新特性</p>
<h2 id="语义标签">1.1.语义标签</h2>
<p>有利于SEO，有利于盲人阅读等，官方文档：<a href="http://www.w3school.com.cn/html/html5_semantic_elements.asp" class="uri">http://www.w3school.com.cn/html/html5_semantic_elements.asp</a></p>
<blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/Sections_and_Outlines_of_an_HTML5_document" class="uri">https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/Sections_and_Outlines_of_an_HTML5_document</a></p>
</blockquote>
<h3 id="基础">1.1.1.基础</h3>
<p>常用语义化标签：</p>
<pre><code><code>&lt;nav&gt;导航区域&lt;/nav&gt;

&lt;header&gt;头部区域&lt;/header&gt;

&lt;main&gt;主内容区&lt;/main&gt;

&lt;footer&gt;尾部区域&lt;/footer&gt;

&lt;article&gt;文章区域&lt;/article&gt;

&lt;aside&gt;侧栏区域&lt;/aside&gt;

&lt;section&gt;内容组/节&lt;/section&gt;</code></pre>
<p>PS：可以将网站首页划分为简介、内容、联系信息等内容组（<code>section</code>）</p>
<p>官方给的语义化标签：</p>
<pre><code><code>标签              描述
&lt;article&gt;      定义文章。
&lt;aside&gt;      定义页面内容以外的内容。
&lt;details&gt;      定义用户能够查看或隐藏的额外细节。
&lt;figcaption&gt;    定义 &lt;figure&gt; 元素的标题。
&lt;figure&gt;        规定自包含内容，比如图示、图表、照片、代码清单等。
&lt;footer&gt;        定义文档或节的页脚。
&lt;header&gt;        规定文档或节的页眉。
&lt;main&gt;        规定文档的主内容。
&lt;mark&gt;        定义重要的或强调的文本。
&lt;nav&gt;          定义导航链接。
&lt;section&gt;      定义文档中的节。
&lt;summary&gt;      定义 &lt;details&gt; 元素的可见标题。
&lt;time&gt;        定义日期/时间。</code></pre>
<p>PS：<strong><code>&lt;div&gt;没有语义的标签&lt;/div&gt;</code>，使用方面和语义标签一样，但SEO效果没语义标签好</strong></p>
<h4 id="效果图">效果图</h4>
<p>可以看看我几年前写的文章：<a href="http://www.cnblogs.com/dunitian/p/5123741.html" class="uri">http://www.cnblogs.com/dunitian/p/5123741.html</a></p>
<h3 id="兼容">1.1.2.兼容</h3>
<p>先看看最关心的兼容性问题：</p>
<p>低版本会把语义标签当成用户自定义的标签，eg：</p>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;title&gt;Page Title&lt;/title&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
    &lt;style&gt;
        nav {
            height: 200px;
            background-color: red;
        }

        div {
            height: 200px;
            background-color: blue;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- 导航 --&gt;
    &lt;nav&gt;语义标签的导航&lt;/nav&gt;
    &lt;div&gt;没有语义的导航&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>浏览器基本上都是支持的<br />
<img src="./images/一文入门HTML50.png" alt="1.支持.png" /></p>
<p>但是低版本不能识别（eg：<code>IE8</code>）<br />
<img src="./images/一文入门HTML51.png" alt="1.低版本.png" /></p>
<h3 id="解决">1.1.3.解决</h3>
<p>现在基本上都是引用一下兼容的库，我们先看看本质是啥：</p>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;title&gt;Page Title&lt;/title&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
    &lt;style&gt;
        nav {
            height: 200px;
            background-color: red;
            /* ie创建自定义标签默认是行级元素，height不生效，所以需要设置block */
            display: block;
        }

        div {
            height: 200px;
            background-color: blue;
        }
    &lt;/style&gt;
    &lt;script&gt;
        // 创建自定义标签
        document.createElement(&quot;nav&quot;)
    &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;!-- 本质就是因为不能识别，那就创建自定义标签，ie默认创建的为行级标签，那就设置为块级元素 --&gt;
    &lt;nav&gt;语义标签的导航&lt;/nav&gt;
    &lt;div&gt;没有语义的导航&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
<p>兼容解决：<br />
<img src="./images/一文入门HTML52.png" alt="1.解决.png" /></p>
<p><strong>PS：本质就是因为不能识别这些语义化标签，那就需要创建自定义的标签。而ie默认创建的标签为行级标签，height就不生效了，所以就需要设置为块级元素</strong></p>
<h3 id="兼容方案">兼容方案</h3>
<p><strong>推荐一个兼容旧版本语义标签的库：<a href="https://github.com/aFarkas/html5shiv" class="uri">https://github.com/aFarkas/html5shiv</a></strong></p>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;title&gt;Page Title&lt;/title&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
    &lt;style&gt;
        nav {
            height: 200px;
            background-color: red;
            display: block;
        }

        div {
            height: 200px;
            background-color: blue;
        }
    &lt;/style&gt;
    &lt;!-- if lt IE 9：低于`IE9`版本会加载 --&gt;
    &lt;!--[if lt IE 9]&gt;
        &lt;script type=&quot;text/javascript&quot; src=&quot;../js/html5shiv.min.js&quot;&gt;&lt;/script&gt;
    &lt;![endif]--&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;nav&gt;语义标签的导航&lt;/nav&gt;
    &lt;div&gt;没有语义的导航&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
<p>PS：小知识点</p>
<ul>
<li><strong><code>[if IE]</code></strong>：<code>IE</code>浏览器</li>
<li><strong><code>[if !IE]</code></strong>：不是<code>IE</code>浏览器</li>
<li><strong><code>[if lt IE 9]</code></strong>：低于<code>IE9</code></li>
<li><strong><code>[if lte IE 8]</code></strong>：<code>&lt;=IE8</code></li>
</ul>
<p><strong>PS：我们一般使用<code>Modernizr</code>即可</strong>（默认包含了<code>html5shiv</code>）</p>
<blockquote>
<p>还可以解决其他兼容性问题</p>
</blockquote>
<pre class="javascript"><code>&lt;!--[if lte IE 9]&gt;
     &lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.staticfile.org/modernizr/2.8.3/modernizr.min.js&quot;&gt;&lt;/script&gt;
&lt;![endif]--&gt;</code></pre>
<p>来个语义化的页面演示：<a href="https://github.lesschina.com/html5/" class="uri">https://github.lesschina.com/html5/</a></p>
<blockquote>
<p>PS：目前只适配了iPad、PC和IE9以上浏览器（移动端为了帮大家省流量准备单独搞个页面）</p>
</blockquote>
<p>先看效果：（我开源了，感兴趣的可以去Fork）</p>
<blockquote>
<p>PS：主打宽屏（逆天是1920的宽屏）</p>
</blockquote>
<p><img src="./images/一文入门HTML53.png" alt="语义化示意图" /></p>
<p>大致框架：<a href="https://github.com/lotapp/H5Blog" class="uri">https://github.com/lotapp/H5Blog</a></p>
<pre><code><code>&lt;header&gt;
  &lt;div class=&quot;logo&quot;&gt;&lt;/div&gt;
  &lt;!-- nav&gt;ul&gt;li*5&gt;a:link --&gt;
  &lt;nav&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;资讯&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;专业&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;生活&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;国学&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;资源&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;实验&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/nav&gt;
  &lt;div class=&quot;search&quot;&gt;&lt;/div&gt;
&lt;/header&gt;
&lt;div class=&quot;banner&quot;&gt;
  &lt;!-- ul&gt;li*5 --&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
&lt;!-- 主体内容 --&gt;
&lt;main&gt;
  &lt;!-- 文章部分 --&gt;
  &lt;article&gt;
    &lt;!-- 最新文章 --&gt;
    &lt;section class=&quot;new_article&quot;&gt;
      &lt;header&gt;
        &lt;nav&gt;
          &lt;ul&gt;
            &lt;li&gt;首页&lt;/li&gt;
            &lt;li&gt;资讯&lt;/li&gt;
            &lt;li&gt;专业&lt;/li&gt;
            &lt;li&gt;生活&lt;/li&gt;
            &lt;li&gt;国学&lt;/li&gt;
            &lt;li&gt;资源&lt;/li&gt;
          &lt;/ul&gt;
        &lt;/nav&gt;
      &lt;/header&gt;
      &lt;!-- 对应菜单的内容 --&gt;
      &lt;div class=&quot;new_tabs&quot;&gt;
        &lt;!-- div.new_item*5 --&gt;
        &lt;div class=&quot;new_item&quot;&gt;内容&lt;/div&gt;
        &lt;div class=&quot;new_item&quot;&gt;内容&lt;/div&gt;
        &lt;div class=&quot;new_item&quot;&gt;内容&lt;/div&gt;
        &lt;div class=&quot;new_item&quot;&gt;内容&lt;/div&gt;
        &lt;div class=&quot;new_item&quot;&gt;内容&lt;/div&gt;
      &lt;/div&gt;
    &lt;/section&gt;
    &lt;!-- 文章列表 --&gt;
    &lt;section class=&quot;blog_lsit&quot;&gt;
      &lt;h2&gt;推荐文章&lt;/h2&gt;
      &lt;!-- ul&gt;li*15 --&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;/li&gt;
        &lt;li&gt;&lt;/li&gt;
        &lt;li&gt;&lt;/li&gt;
        &lt;li&gt;&lt;/li&gt;
        &lt;li&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/section&gt;
    &lt;!-- 分页栏 --&gt;
    &lt;footer&gt;
      &lt;!-- ul&gt;li*5（也可以直接使用a标签） --&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;/li&gt;
        &lt;li&gt;&lt;/li&gt;
        &lt;li&gt;&lt;/li&gt;
        &lt;li&gt;&lt;/li&gt;
        &lt;li&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/footer&gt;
  &lt;/article&gt;
  &lt;!-- 侧边栏，相关文章 --&gt;
  &lt;!-- aside&gt;sestion*5&gt;h2+div --&gt;
  &lt;aside&gt;
    &lt;sestion&gt;
      &lt;h2&gt;&lt;/h2&gt;
      &lt;div&gt;&lt;/div&gt;
    &lt;/sestion&gt;
    &lt;sestion&gt;
      &lt;h2&gt;&lt;/h2&gt;
      &lt;div&gt;&lt;/div&gt;
    &lt;/sestion&gt;
  &lt;/aside&gt;
&lt;/main&gt;
&lt;!-- 尾部信息 --&gt;
&lt;footer&gt;
&lt;address&gt;xxx&lt;/address&gt;
&lt;/footer&gt;</code></pre>
<h2 id="多媒体标签">1.2.多媒体标签</h2>
<h3 id="video-and-audio">video and audio</h3>
<p>官方文档：<a href="http://www.w3school.com.cn/html5/html_5_audio.asp" class="uri">http://www.w3school.com.cn/html5/html_5_audio.asp</a> and <a href="http://www.w3school.com.cn/html5/html_5_video.asp" class="uri">http://www.w3school.com.cn/html5/html_5_video.asp</a></p>
<p>主要属性：</p>
<ol>
<li><strong>controls：显示控件</strong></li>
<li><strong>muted：静音</strong></li>
<li>autoplay：自动播放</li>
<li>loop：循环播放</li>
<li><em>preload：预加载</em></li>
</ol>
<pre><code><code>&lt;video src=&quot;http://www.w3school.com.cn/i/movie.mp4&quot; controls autoplay loop muted&gt;您的浏览器不支持video标签&lt;/video&gt;
&lt;audio src=&quot;http://www.w3school.com.cn/i/song.mp3&quot; controls autoplay loop muted&gt;您的浏览器不支持&lt;/audio&gt;</code></pre>
<p><strong>PS：大家有没有发现，现在视频网站都是自动播放，很多默认都是静音？</strong></p>
<p>但是需要注意下不同浏览器的兼容格式：<br />
<img src="./images/一文入门HTML54.png" alt="2.视频格式.png" /><br />
<img src="./images/一文入门HTML55.png" alt="2.音频格式.png" /></p>
<p>上面代码的兼容写法如下：</p>
<pre><code><code>&lt;video controls&gt;
    &lt;source src=&quot;http://www.w3school.com.cn/i/movie.mp4&quot;&gt;
    &lt;source src=&quot;http://www.w3school.com.cn/i/movie.ogg&quot;&gt;
    您的浏览器不支持video标签
&lt;/video&gt;

&lt;audio controls&gt;
    &lt;source src=&quot;http://www.w3school.com.cn/i/song.mp3&quot;&gt;
    &lt;source src=&quot;http://www.w3school.com.cn/i/song.ogg&quot;&gt;
    您的浏览器不支持audio标签
&lt;/audio&gt;</code></pre>
<h3 id="扩展">扩展</h3>
<p>这个部分几年前讲过，记得还做了个播放器，就不去讲了，项目里也基本上用大厂开源的库：</p>
<blockquote>
<p>PS：这几款播放器用的挺多：（推荐加粗项目）</p>
</blockquote>
<ol>
<li><strong><code>Video.js</code>（开源<code>2.45W+</code>）</strong>
<ul>
<li>URL：<a href="https://github.com/videojs/video.js" class="uri">https://github.com/videojs/video.js</a></li>
<li>Vue版：<a href="https://github.com/surmon-china/vue-video-player" class="uri">https://github.com/surmon-china/vue-video-player</a></li>
</ul></li>
<li><strong><code>cyberplayer</code>（百度）</strong>
<ul>
<li>PS：基于<code>video.js</code></li>
<li>URL：<a href="https://cloud.baidu.com/doc/MCT/Web-SDK.html" class="uri">https://cloud.baidu.com/doc/MCT/Web-SDK.html</a></li>
</ul></li>
<li><strong><code>tencentplayer</code>（腾讯）</strong>
<ul>
<li>URL：<a href="http://v.qq.com/open/qna.html" class="uri">http://v.qq.com/open/qna.html</a></li>
</ul></li>
<li><code>webtorrent</code>(开源<code>1.9w+</code>)
<ul>
<li>URL：<a href="https://github.com/webtorrent/webtorrent" class="uri">https://github.com/webtorrent/webtorrent</a></li>
</ul></li>
<li><code>Flv.js</code>（Bilibili开源<code>1.4w+</code>）
<ul>
<li>URL：<a href="https://github.com/Bilibili/flv.js" class="uri">https://github.com/Bilibili/flv.js</a></li>
</ul></li>
<li><code>DPlayer</code>（开源<code>5.3k+</code>）
<ul>
<li>URL：<a href="https://github.com/MoePlayer/DPlayer" class="uri">https://github.com/MoePlayer/DPlayer</a></li>
</ul></li>
<li><code>jwplayer</code>（开源<code>1.8k+</code>）
<ul>
<li>URL：<a href="https://github.com/jwplayer/jwplayer" class="uri">https://github.com/jwplayer/jwplayer</a></li>
</ul></li>
<li><strong>Chimee组件化框架（开源<code>1.65k+</code>）</strong>
<ul>
<li>URL：<a href="https://github.com/Chimeejs/chimee" class="uri">https://github.com/Chimeejs/chimee</a></li>
</ul></li>
<li><code>youkuplayer</code>（优酷）
<ul>
<li>URL：<a href="http://cloud.youku.com/tools" class="uri">http://cloud.youku.com/tools</a></li>
</ul></li>
</ol>
<hr />
<h2 id="新表单元素">1.3.新表单元素</h2>
<h3 id="智能表单类型">1.3.1.智能表单类型</h3>
<ol>
<li><strong><code>email</code>：合法邮箱</strong></li>
<li><strong><code>url</code>：合法url地址</strong></li>
<li><strong><code>number</code>：合法数字</strong></li>
<li><code>date</code>：显示日期</li>
<li><code>month</code>：显示月份</li>
<li><code>week</code>：显示第几周</li>
<li><code>time</code>：显示时间</li>
<li><code>range</code>：滑动条</li>
<li><code>search</code>：搜索框</li>
<li><em><code>color</code>：拾色器</em></li>
</ol>
<p>使用<code>setCustomValidity()</code>设置自定义验证</p>
<h3 id="表单属性">1.3.2.表单属性</h3>
<h4 id="form属性">1.form属性</h4>
<ol>
<li><strong><code>autocomplete=&quot;on|off&quot;</code>：是否自动完成</strong></li>
<li><code>novalidate=&quot;true|false&quot;</code>：不校验|校验数据</li>
</ol>
<h4 id="input属性">2.input属性</h4>
<ol>
<li><strong><code>required</code>：必填选项</strong></li>
<li><strong><code>autofocus</code>：自动获取焦点</strong></li>
<li><strong><code>placeholder</code>：提示信息</strong></li>
<li><strong><code>maxlength</code>：最大字符数</strong></li>
<li><strong><code>autocomplete</code>：取消候选词</strong>
<ul>
<li>PS：一般都是自己设置，如果不关闭会重叠（百度代码：<code>&lt;input value=&quot;&quot; maxlength=&quot;255&quot; autocomplete=&quot;off&quot;&gt;</code>）</li>
</ul></li>
<li><code>multiple</code>：多选效果</li>
<li><em><code>form=&quot;表单id</code>：把不在表单域里面的input添加到表单中</em></li>
</ol>
<pre><code><code>&lt;select multiple&gt;
    &lt;option&gt;11&lt;/option&gt;
    &lt;option&gt;22&lt;/option&gt;
    &lt;option&gt;33&lt;/option&gt;
    &lt;option&gt;44&lt;/option&gt;
&lt;/select&gt;

&lt;input type=&quot;text&quot; list=&quot;list_id&quot; /&gt;
&lt;datalist id=&quot;list_id&quot;&gt;
    &lt;option&gt;11&lt;/option&gt;
    &lt;option&gt;22&lt;/option&gt;
&lt;/datalist&gt;</code></pre>
<h3 id="扩展说明">1.3.3.扩展说明</h3>
<p>这个之前也说的很详细了，这边列了常用属性就完事了，感兴趣可以去老文章看看：<a href="https://www.cnblogs.com/dunitian/p/5125371.html" class="uri">https://www.cnblogs.com/dunitian/p/5125371.html</a></p>
<blockquote>
<p><strong>PS：有些是真方便，但表单验证一般不太用（不同浏览器表现UI不同，产品经理会打你的哦~）</strong></p>
</blockquote>
<h2 id="常用api">1.4.常用API</h2>
<h3 id="dom相关api必看">1.4.1.Dom相关API（必看）</h3>
<p>这个高版本IE都支持，而且出了dom相关API后，现在基本上不太用JQ了</p>
<blockquote>
<p>PS：有些项目需要兼容老版本浏览器的另说</p>
</blockquote>
<h4 id="获取页面元素">1.获取页面元素</h4>
<p><strong><code>获取页面元素</code></strong>：</p>
<ol>
<li><code>document.querySelector(&quot;选择器&quot;)</code>：返回符合选择器的第一个元素</li>
<li><code>document.querySelectorAll(&quot;选择器&quot;)</code>：返回所有符合选择器的元素</li>
<li>PS：选择器可以是CSS中的任意一种（你CSS怎么写的，这边就怎么写）
<ul>
<li>eg：<code>document.querySelector(&quot;#id&quot;)</code>、<code>document.querySelector(&quot;.class&quot;)</code>、<code>document.querySelector(&quot;tag&quot;)</code></li>
</ul></li>
</ol>
<p>举个栗子：<strong>我想让Python变成红色，用CSS可以这么写</strong>：</p>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;选择器&lt;/title&gt;
    &lt;style&gt;
        li span {
          color: red;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
   &lt;ul&gt;
     &lt;li&gt;&lt;span&gt;Python&lt;/span&gt;&lt;/li&gt;
     &lt;li&gt;JavaScript&lt;/li&gt;
   &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>效果：<br />
<img src="./images/一文入门HTML56.png" alt="3.1.one.png" /></p>
<p><strong>通过API可以这么干</strong>：（选择器写法和CSS一样）</p>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;选择器&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;span&gt;Python&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;JavaScript&lt;/li&gt;
  &lt;/ul&gt;
  &lt;script&gt;
    // 只能选中第一个元素（单个）
    document.querySelector(&quot;li span&quot;).style.color = &quot;red&quot;;
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><strong>全部变成红色可以这么干</strong>：</p>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;选择器&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;span&gt;Python&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;JavaScript&lt;/li&gt;
  &lt;/ul&gt;
  &lt;script&gt;
    // 选中所有符合的元素（列表）
    dom_list = document.querySelectorAll(&quot;li&quot;);
    // 用法很像C#
    dom_list.forEach(item =&gt; {
        item.style.color = &quot;red&quot;;
     });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>效果：<br />
<img src="./images/一文入门HTML57.png" alt="3.1.all.png" /></p>
<h4 id="类名操作">2.类名操作</h4>
<p><strong><code>类名操作</code></strong>（页面元素对象的方法）</p>
<ol>
<li><code>xxdom.classList.add(&quot;类名&quot;)</code>：给当前dom元素添加类样式</li>
<li><code>dom.classList.remove(&quot;类名&quot;)</code>：移除当前dom元素的类样式</li>
<li><code>dom.classList.contains(&quot;类名&quot;)</code>：检测是否包含类样式</li>
<li><code>dom.classList.toggle(&quot;类名&quot;)</code>：切换类样式
<ul>
<li>PS：有就删除，没有就添加</li>
</ul></li>
</ol>
<p>举个栗子：</p>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;类名操作&lt;/title&gt;
    &lt;style type=&quot;text/css&quot;&gt;
        .dis {
          background-color: red;
          width: 300px;
          height: 50px;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class=&quot;demo&quot;&gt;&lt;/div&gt;
    &lt;div&gt;
        &lt;input type=&quot;button&quot; value=&quot;添加类名&quot; class=&quot;add mmd&quot;&gt;
        &lt;input type=&quot;button&quot; value=&quot;移除类名&quot; class=&quot;remove&quot;&gt;
        &lt;input type=&quot;button&quot; value=&quot;切换类名&quot; class=&quot;toggle&quot;&gt;
        &lt;input type=&quot;button&quot; value=&quot;是否包含类名&quot; class=&quot;contains&quot;&gt;
    &lt;/div&gt;
    &lt;script&gt;
        // 演示对象
        let demo_obj = document.querySelector(&quot;.demo&quot;);

        // 给几个按钮对象注册点击事件
        // 添加
        document.querySelector(&quot;.add&quot;).onclick = () =&gt; {
            demo_obj.classList.add(&quot;dis&quot;);
        };
        // 移除
        let remove_btn = document.querySelector(&quot;.remove&quot;).onclick = () =&gt; {
            demo_obj.classList.remove(&quot;dis&quot;);
        };
        // 切换
        let toggle_btn = document.querySelector(&quot;.toggle&quot;).onclick = () =&gt; {
            demo_obj.classList.toggle(&quot;dis&quot;); // 没则添加，有则移除
        };
        // 是否包含
        let contains_btn = document.querySelector(&quot;.contains&quot;).onclick = () =&gt; {
            let b = demo_obj.classList.contains(&quot;dis&quot;);
            console.log(b);
        };
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>效果：<br />
<img src="./images/一文入门HTML58.png" alt="3.2.类api.gif" /></p>
<p>PS：<strong>ES6兼容可以使用<code>babel</code></strong>：<code>cnpm i babel-core@old</code> &gt; <code>babel-core</code> &gt; <strong><code>browser.min.js</code></strong></p>
<blockquote>
<p>回顾：<code>cnpm</code>配置：<a href="https://www.cnblogs.com/dotnetcrazy/p/10118756.html#1.1.NPM国内镜像" class="uri">https://www.cnblogs.com/dotnetcrazy/p/10118756.html#1.1.NPM国内镜像</a></p>
</blockquote>
<h4 id="自定义属性">3.自定义属性</h4>
<p><strong><code>自定义属性</code></strong>：在标签中的<code>data-自定义属性名</code></p>
<ol>
<li>获取自定义属性：<code>dom.dataset.自定义属性名</code> or <code>dom.dataset[&quot;自定义属性名&quot;]</code></li>
<li>设置自定义属性：<code>dom.dataset.自定义属性名 = xxx</code> or <code>dom.dataset[&quot;自定义属性名&quot;] = xxx</code></li>
<li>删除自定义属性：<code>delete dom.dataset.自定义属性名</code> or <code>delete dom.dataset[&quot;自定义属性名&quot;]</code></li>
<li>一般属性：
<ul>
<li>获取某个属性：<code>dom.getAttribute(&quot;属性名&quot;)</code></li>
<li>删除某个属性：<code>dom.removeAttribute(&quot;属性名&quot;)</code></li>
<li>设置某个属性：<code>dom.setAttribute(&quot;属性名&quot;, &quot;值&quot;)</code></li>
<li>是否包含属性：<code>dom.hasAttribute(&quot;属性名&quot;)</code></li>
</ul></li>
</ol>
<p>举个栗子：</p>
<pre><code><code>&lt;div class=&quot;test&quot; data-name=&quot;mmd&quot; data-test-one=&quot;test&quot;&gt;自定义属性&lt;/div&gt;
&lt;script&gt;
    // 获取标签的自定义属性值
    let list = document.querySelector(&quot;.test&quot;).dataset;
    // 获取：dom.dataset.自定义属性名（属性名不包含`data-`)
    console.log(list.name);
    // PS：test-one名字会改成驼峰命名的变量：testOne
    console.log(list.testOne)
    // 设置：dom.dataset.自定义属性名 = xxx or dataset[自定义属性名] = xxx
    list.name = &quot;小明&quot;; // 标签中对应值会变成小明
    list.age = 23; // 添加一个属性
    // PS：设置为data-test-two
    list.testTwo = &quot;test2&quot;;
&lt;/script&gt;</code></pre>
<p>输出效果：<br />
<img src="./images/一文入门HTML59.png" alt="3.h5api.png" /></p>
<p>现在可以用<code>HTML5</code>把上次的Shopee案例改写了：<a href="https://www.cnblogs.com/dotnetcrazy/p/10585254.html">小计：Shopee批量删除修复~附脚本</a></p>
<pre class="js"><code>// 核心代码：
setInterval(function () {
    var btn = document.querySelector(&quot;.delete-button&quot;);
    // 只有选择之后才会出现按钮
    if (btn) {
        // 如果包含disabled类就删除
        if (btn.classList.contains(&quot;disabled&quot;)) {
            btn.classList.remove(&quot;disabled&quot;);
        }
        // 如果包含disabled属性
        if (btn.hasAttribute(&quot;disabled&quot;)) {
            btn.removeAttribute(&quot;disabled&quot;);
        }
    }
}, 1000);</code></pre>
<p><strong>PS：妈妈再也不要担心依赖<code>JQuery</code>了</strong></p>
<h4 id="扩展ie下classlist的兼容解决方案">扩展：IE下ClassList的兼容解决方案</h4>
<p>这个摸索好久，网上都是手写js去兼容，然后拿过来用发现。。。。你懂得</p>
<p>本来都准备不用classList这么方便的api了，后来发现了神器：<strong><code>classList</code></strong></p>
<p>贴一下我的前端兼容方案：（<code>modernizr</code>上面说了）</p>
<pre class="js"><code>&lt;!--[if lte IE 9]&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.staticfile.org/modernizr/2.8.3/modernizr.min.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.staticfile.org/classlist/1.2.20180112/classList.min.js&quot;&gt;&lt;/script&gt;
&lt;![endif]--&gt;</code></pre>
<p>PS：如果想要兼容<code>ES6</code>基础语法、<code>async/await</code>，可以使用这两个库：<code>babel-core</code>、<code>babel-polyfill</code></p>
<pre><code><code>// balel-core这个版本是最新的（再新的就不兼容IE了）
&lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.staticfile.org/babel-core/5.8.38/browser.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<hr />
<h3 id="文件相关api">1.4.2.文件相关API</h3>
<p>1.<code>FileReader</code>常用读取文件的方法：</p>
<ul>
<li><strong><code>reader.readAsText</code></strong>：将文件读取为文本</li>
<li><strong><code>reader.readAsDataURL</code></strong>：将文件读取为DataURL（Base64）</li>
<li><code>reader.readAsBinaryString</code>：将文件读取为二进制编码</li>
<li>PS：返回结果在<code>reader.result</code>中</li>
</ul>
<p>2.<code>FileReader</code>中含有的事件：</p>
<ul>
<li><code>onabort</code>：中断时触发</li>
<li><strong><code>onerror</code></strong>：出错时触发</li>
<li><strong><code>onload</code></strong>：文件读取成功完成时触发</li>
<li><code>onloadend</code>：读取完成触发，无论成功或失败</li>
<li><code>onloadstart</code>：读取开始时触发</li>
<li><code>onprogress</code>：读取中</li>
</ul>
<h4 id="文本上传案例">1.文本上传案例</h4>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
   &lt;meta charset=&quot;utf-8&quot;&gt;
   &lt;title&gt;文本读取&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;input class=&quot;file&quot; type=&quot;file&quot; name=&quot;&quot;&gt;
  &lt;script&gt;
    let file_btn = document.querySelector(&quot;input&quot;);
    // 注意一下this的问题：&lt;http://www.cnblogs.com/dotnetcrazy/p/10061671.html#3.4.特殊的this（重要）&gt;
    file_btn.onchange = function () {
        // 获取文件
        let file = this.files[0];
        // type只能识别常用格式，`.md`就不能识别
        console.log(file);
        // 开始读取（创建读取器）
        let reader = new FileReader(); // Python不写new
        // 用读取文本的方式来读取
        reader.readAsText(file); // 没有返回值
        // 取代完成后执行
        reader.onload = () =&gt; {
            console.log(reader.result);
        };
    };
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>图示：<br />
<img src="./images/一文入门HTML510.png" alt="3.3.文本上传.gif" /></p>
<h4 id="图片上传案例">2.图片上传案例</h4>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;title&gt;图片读取-Base64&lt;/title&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div&gt;&lt;p&gt;&lt;input type=&quot;file&quot; /&gt;&lt;/p&gt;&lt;/div&gt;
  &lt;script&gt;
    let img_exts = [&quot;.png&quot;, &quot;.gif&quot;, &quot;.jpg&quot;, &quot;.jpeg&quot;, &quot;.bmp&quot;, &quot;.svg&quot;, &quot;.ico&quot;];
    // 获取input对象
    let input_obj = document.querySelector(&quot;input&quot;);
    // 文件上传
    input_obj.onchange = function () {
        // 获取文件信息
        let file = input_obj.files[0];
        // 获取文件后缀
        let ext = file.name.substring(file.name.lastIndexOf(&#39;.&#39;));
        // 不是图片
        if (img_exts.indexOf(ext) == -1) {
            alert(&quot;请上传图片，这个文件格式不支持哦~&quot;);
            return
        }
        // 实例化文件读取器
        let reader = new FileReader();
        // base64的方式读取文件
        reader.readAsDataURL(file); // 没有返回值
        // 读取完成后执行
        reader.onload = () =&gt; {
            // 创建一个img对象
            let img_obj = document.createElement(&quot;img&quot;);
            // 把读取结果设置为img的src
            img_obj.src = reader.result;
            // 创建的img对象插入到div中
            document.querySelector(&quot;div&quot;).appendChild(img_obj);
        }
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>图示：<br />
<img src="./images/一文入门HTML511.png" alt="3.4.图片上传.gif" /></p>
<p>PS：<strong>核心代码</strong>：</p>
<pre class="js"><code>// 获取input对象
let input_obj = document.querySelector(&quot;input&quot;);
// 文件上传
input_obj.onchange = function () {
   // 获取文件信息
   let file = input_obj.files[0];
   // 实例化文件读取器
   let reader = new FileReader();
   // base64的方式读取文件
   reader.readAsDataURL(file); // 没有返回值
   // 读取完成后执行
   reader.onload = () =&gt; {
     console.log(reader.result);
   }
}</code></pre>
<p><strong>PS：一般小文本文件或者图片会用，多个文件或者大文件读取不推荐使用</strong></p>
<h4 id="this知识的扩展">2.this知识的扩展</h4>
<p>注意一下this的问题：<a href="http://www.cnblogs.com/dotnetcrazy/p/10061671.html#3.4.特殊的this（重要）" class="uri">http://www.cnblogs.com/dotnetcrazy/p/10061671.html#3.4.特殊的this（重要）</a></p>
<p><strong>普通函数的this ==&gt; 谁调用就是谁（经常变：谁调用是谁）</strong></p>
<pre class="js"><code>function show() {
    alert(this); // 1,2,3,4
    console.log(this); // [1, 2, 3, 4, show: ƒ]
}

let arr = [1, 2, 3, 4];
arr.show = show;
arr.show();</code></pre>
<p><strong>箭头函数的this ==&gt; 在谁的环境下this就是谁（不变：当前作用域）</strong></p>
<pre class="js"><code>let arr = [1, 2, 3, 4];
arr.show = () =&gt; {
    alert(this); // [object Window]
    console.log(this); // Window
}
arr.show();</code></pre>
<p><strong>PS：解决回顾：<a href="https://www.cnblogs.com/dotnetcrazy/p/10061671.html#业余拓展" class="uri">https://www.cnblogs.com/dotnetcrazy/p/10061671.html#业余拓展</a></strong></p>
<h3 id="获取网络状态api">1.4.3.获取网络状态API</h3>
<ol>
<li>是否联网：<code>window.navigator.onLine</code>
<ul>
<li>PS：<strong>对于APP来说：一般联网就加载最新的资源，没网就加载离线资源</strong></li>
</ul></li>
<li>常用事件：主要是看当前是联网还是断网，然后监听对应的断网或者联网事件
<ul>
<li><code>window.ononline</code>：联网触发</li>
<li><code>window.onoffline</code>：离线时候触发</li>
</ul></li>
</ol>
<p><strong>PS：主要是移动端用的比较多</strong></p>
<p>演示案例：</p>
<pre class="js"><code>// 获取网络状态
var state = window.navigator.onLine;
if (state) {
    console.log(&quot;当前网络可用&quot;);
} else {
    console.warn(&quot;断网提醒：当前网络不可用&quot;);
}
// 断网执行的事件
window.onoffline = () =&gt; {
    document.write(&quot;网络已断开&quot;);
    console.log(window.navigator.onLine)
}
// 联网执行的事件
window.ononline = () =&gt; {
    document.write(&quot;网络已连接&quot;);
    console.log(window.navigator.onLine)
};</code></pre>
<p><strong>经过实验发现，事件只会执行一次，而且属于有'我没你'的互斥现象</strong>，演示如下：</p>
<p><img src="./images/一文入门HTML512.png" alt="4.断开网络.gif" /><br />
<img src="./images/一文入门HTML513.png" alt="4.重新连接.gif" /></p>
<p>PS：<strong>如果已经是联网状态，只会执行断开的事件，重新连接也不会执行联网事件。反之一样~</strong></p>
<hr />
<h3 id="获取地理位置api推荐">1.4.4.获取地理位置API（推荐）</h3>
<p><code>geolocation</code>：定位</p>
<p>原理：</p>
<ul>
<li>PC端：按照IP地址定位（IP库）
<ul>
<li>PS：没硬件支持，只能ip走起</li>
</ul></li>
<li>移动：按照WiFi|GPS模块定位（硬件定位）</li>
</ul>
<h4 id="简单案例">1.简单案例</h4>
<p><code>知识点</code>：</p>
<ul>
<li><strong><code>res.coords.longitude</code>：经度</strong></li>
<li><strong><code>res.coords.latitude</code>：纬度</strong></li>
<li><strong><code>res.coords.speed</code>：移动速度</strong>
<ul>
<li>实时定位的时候用的多</li>
</ul></li>
<li><strong><code>res.coords.accuracy</code>：精确度</strong>
<ul>
<li>一般低于50，经纬数据就偏差太多</li>
</ul></li>
</ul>
<p>案例：</p>
<pre class="js"><code>console.log(window.navigator.userAgent); // PS：Agent也是可以获取的

let position = window.navigator.geolocation.getCurrentPosition(res =&gt; {
    // 获取成功执行
    console.log(&quot;获取成功&quot;, res.coords);
    console.log(res.coords.longitude, res.coords.latitude,&quot;Location in Canada&quot;);
}, ex =&gt; {
    console.log(&quot;获取失败&quot;, ex);
});</code></pre>
<p>动态演示：（PS：<code>没FQ的可以使用IE演示</code>）<br />
<img src="./images/一文入门HTML514.png" alt="5.获取成功.gif" /></p>
<p>扩展：小程序版地图案例：<a href="https://www.cnblogs.com/dotnetcrazy/p/10597311.html#_map17" class="uri">https://www.cnblogs.com/dotnetcrazy/p/10597311.html#_map17</a></p>
<h4 id="地图案例">2.地图案例</h4>
<p>PS：很多公司官网介绍里面的地图其实就是通过<strong><code>地图生成器</code></strong>生成的：<a href="http://api.map.baidu.com/lbsapi/createmap/index.html" class="uri">http://api.map.baidu.com/lbsapi/createmap/index.html</a></p>
<blockquote>
<p>PS：1.2版本不用密钥但是和地图生成器有点渲染的bug，你可以使用对应的API（<code>&lt;script type=&quot;text/javascript&quot; src=&quot;http://api.map.baidu.com/getscript?v=1.2&quot;&gt;&lt;/script&gt;</code>）</p>
</blockquote>
<p>分享一下我的密钥：<code>b3g90mWBIE2VaSCcCuPCXjhj</code></p>
<blockquote>
<p><code>&lt;script type=&quot;text/javascript&quot; src=&quot;http://api.map.baidu.com/getscript?v=2.0&amp;ak=b3g90mWBIE2VaSCcCuPCXjhj&quot;&gt;&lt;/script&gt;</code></p>
</blockquote>
<p><img src="./images/一文入门HTML515.png" alt="5.baidumap.png" /></p>
<p>我稍微修改了点，发下demo：</p>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;百度地图API自定义地图&lt;/title&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;http://api.map.baidu.com/getscript?v=2.0&amp;ak=b3g90mWBIE2VaSCcCuPCXjhj&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- PS：你的宽和高是多少，它就填充多少 --&gt;
    &lt;div id=&quot;baidumap&quot; style=&quot;width:1000px;height:500px;&quot;&gt;&lt;/div&gt;
    &lt;script src=&quot;../js/baidumap.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
        window.onload = () =&gt; {
            window.navigator.geolocation.getCurrentPosition(res =&gt; {
                // 初始化百度地图
                initMap(&quot;baidumap&quot;, res.coords.longitude, res.coords.latitude);
            }, ex =&gt; {
                console.warn(&quot;获取失败&quot;, ex);
            });
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><strong>PS：你的宽和高是多少，它就填充多少</strong></p>
<p>baidumap.js：</p>
<pre class="js"><code>var map;
//创建地图
function createMap(id_str, lng, lat) {
    map = new BMap.Map(id_str);
    map.centerAndZoom(new BMap.Point(lng, lat), 15);
}
//设置地图事件
function setMapEvent() {
    map.enableScrollWheelZoom();
    map.enableKeyboard();
    map.enableDragging();
    map.enableDoubleClickZoom()
}
// 图标单击事件
function addClickHandler(target, window) {
    target.addEventListener(&quot;click&quot;, function () {
        target.openInfoWindow(window);
    });
}
//向地图添加覆盖物
function addMapOverlay(lng, lat, content) {
    var markers = [{
        content: content, // 一般写详细地址
        title: &quot;&quot;,
        imageOffset: {
            width: -46,
            height: -21
        },
        position: {
            lng: lng,
            lat: lat
        }
    }, ];
    for (var index = 0; index &lt; markers.length; index++) {
        var point = new BMap.Point(markers[index].position.lng, markers[index].position.lat);
        var marker = new BMap.Marker(point, {
            icon: new BMap.Icon(&quot;http://api.map.baidu.com/lbsapi/createmap/images/icon.png&quot;, new BMap.Size(20, 25), {
                imageOffset: new BMap.Size(markers[index].imageOffset.width, markers[index].imageOffset.height)
            })
        });
        var label = new BMap.Label(markers[index].title, {
            offset: new BMap.Size(25, 5)
        });
        var opts = {
            width: 200,
            title: markers[index].title,
            enableMessage: false
        };
        var infoWindow = new BMap.InfoWindow(markers[index].content, opts);
        marker.setLabel(label);
        addClickHandler(marker, infoWindow);
        map.addOverlay(marker);
    };
    var labels = [];
    for (var index = 0; index &lt; labels.length; index++) {
        var opt = {
            position: new BMap.Point(labels[index].position.lng, labels[index].position.lat)
        };
        var label = new BMap.Label(labels[index].content, opt);
        map.addOverlay(label);
    };
    var plOpts = [];
    var plPath = [];
    for (var index = 0; index &lt; plOpts.length; index++) {
        var polyline = new BMap.Polyline(plPath[index], plOpts[index]);
        map.addOverlay(polyline);
    }
}
//向地图添加控件
function addMapControl() {
    var scaleControl = new BMap.ScaleControl({
        anchor: BMAP_ANCHOR_BOTTOM_LEFT
    });
    scaleControl.setUnit(BMAP_UNIT_IMPERIAL);
    map.addControl(scaleControl);
    var navControl = new BMap.NavigationControl({
        anchor: BMAP_ANCHOR_TOP_LEFT,
        type: 0
    });
    map.addControl(navControl);
    var overviewControl = new BMap.OverviewMapControl({
        anchor: BMAP_ANCHOR_BOTTOM_RIGHT,
        isOpen: true
    });
    map.addControl(overviewControl);
}
//创建和初始化地图函数：id字符串，经度，纬度，详细信息
function initMap(id_str, lng, lat, content) {
    console.info(id_str, lng, lat, content);
    if (content == undefined) {
        content = &quot;I am here&quot;; //`lng:${lng},lat:${lat}`; // ES6语法（默认参数也是ES6语法）
        console.info(&quot;没有详细描述&quot;);
    }
    createMap(id_str, lng, lat); //创建地图
    setMapEvent(); //设置地图事件
    addMapControl(); //向地图添加控件
    addMapOverlay(lng, lat, content); //向地图添加覆盖物
}</code></pre>
<p>效果：（也进一步验证了，PC端是根据ip来定位的）<br />
<img src="./images/一文入门HTML516.png" alt="5.效果.png" /></p>
<hr />
<h3 id="本地存储相关api必看">1.4.5.本地存储相关API（必看）</h3>
<ul>
<li><code>cookie</code>：浏览器和服务器共享(4k)</li>
<li><strong><code>localStorage</code>：浏览器独享（5M)</strong>
<ul>
<li><strong>每个域名5M</strong>，没有过期时间（用户不清理的情况下）</li>
</ul></li>
<li><code>sessionStorage</code>：当前会话使用的存储
<ul>
<li>用法和localStorage一样，页面关闭就消失了</li>
</ul></li>
</ul>
<h4 id="基础案例">1.基础案例</h4>
<p><code>知识点</code>：</p>
<ul>
<li><strong>设置值：<code>localStorage.setItem(&quot;key&quot;, &quot;value&quot;)</code></strong></li>
<li><strong>获取值：<code>localStorage.getItem(&quot;key&quot;)</code></strong></li>
<li><strong>删除值：<code>localStorage.removeItem(&quot;key&quot;)</code></strong></li>
</ul>
<p>来个案例：</p>
<pre class="js"><code>console.log(&quot;-------------设置值---------------------&quot;)
// 设置值：setItem(key,value)
localStorage.setItem(&quot;id&quot;, 11);
localStorage.setItem(&quot;name&quot;, &quot;小明&quot;);

// 其他实现
localStorage.age = 23; // 这种方式也可以
localStorage[&quot;gender&quot;] = 1; // 这种方式设置也可以

console.log(&quot;-------------获取值---------------------&quot;)

//获取值：getItem(key)
localStorage.getItem(&quot;id&quot;);

// 其他实现
console.log(localStorage.age); // 这种方式也可以
console.log(localStorage.mmd); // 如果key不存在=&gt;`undefined`

console.log(localStorage[&quot;gender&quot;]); // 这种方式也可以
console.log(localStorage[&quot;mmd&quot;]); // 如果key不存在=&gt;`undefined`

console.log(&quot;-------------删除值---------------------&quot;)

// 删除值
localStorage.removeItem(&quot;id&quot;);
// 其他实现
delete localStorage.age;
delete localStorage[&quot;gender&quot;];

console.log(&quot;-------------遍历值---------------------&quot;)

// 官方推荐的遍历方式
for (let i = 0; i &lt; localStorage.length; i++) {
    let key = localStorage.key(i);
    let value = localStorage.getItem(key);
    console.log(key, value);
}</code></pre>
<p>输出：</p>
<pre><code><code>-------------设置值---------------------
-------------获取值---------------------
23
undefined
1
undefined
-------------删除值---------------------
-------------遍历值---------------------
name 小明</code></pre>
<p><strong>PS：for in 的方式会把方法也遍历出来，不是我们需要的<code>key-value</code></strong></p>
<h4 id="文章草稿案例">2.文章草稿案例</h4>
<p>实际场景：<code>保存文章草稿</code></p>
<p>先看一下正常情况：（一般就是添加一个关闭页面的提示）</p>
<blockquote>
<p>但遇到浏览器卡死或者断点就没用了，对于写文章长达好几个小时的作者来说是一个悲剧。。。</p>
</blockquote>
<p><img src="./images/一文入门HTML517.png" alt="4.没保存.gif" /></p>
<p>通过本地存储实现无缝缓存草稿</p>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;title&gt;本地草稿&lt;/title&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
   &lt;div&gt;
    &lt;div&gt;文章内容&lt;/div&gt;
    &lt;textarea id=&quot;article&quot; rows=&quot;20&quot; cols=&quot;50&quot;&gt;&lt;/textarea&gt;
    &lt;input type=&quot;button&quot; value=&quot;发布文章&quot; /&gt;
   &lt;/div&gt;
    &lt;script&gt;
       window.onload = () =&gt; {
        // 获取文本框对象
        let text_obj = document.querySelector(&quot;#article&quot;);

        // 根据文章编号，把草稿内容读取出来（如果没有就为空字符串）
        text_obj.value = localStorage[&quot;5547&quot;] || &#39;&#39;;

        // 文本内容改变了就执行（输入事件）
        text_obj.oninput = () =&gt; {
            // 假设当前文章id是5547
            localStorage[&quot;5547&quot;] = text_obj.value;
        }
       // 获取按钮对象
       let btn_obj = document.querySelector(&quot;input&quot;);
        btn_obj.onclick = () =&gt; {
           // Ajax请求（我这边省略）
           alert(&quot;文章发布成功！&quot;);
           // 清除对应文章的草稿
           delete localStorage[&quot;5547&quot;];
       }
      }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>效果演示：<br />
<img src="./images/一文入门HTML518.png" alt="4.保存.gif" /></p>
<p><strong>PS：<code>WebSQL、IndexedDB</code>因为安全性，现在基本上不用了</strong>（官方也不在维护了）</p>
<blockquote>
<p>题外话：<code>localStorage</code>基本上够用了（数据库都暴露在前端了，还有啥安全性？）</p>
</blockquote>
<h3 id="扩展canvas画布">扩展：Canvas画布</h3>
<p>这个几年前已经说过了，感兴趣的可以自己回顾一下：<a href="http://www.cnblogs.com/dunitian/p/5149156.html" class="uri">http://www.cnblogs.com/dunitian/p/5149156.html</a></p>
<p>说句实话，搞后端的不大可能自己弄画布相关的API，一般用用类似于<code>Echarts</code>就可以了（在Canvas基础上的封装实现）</p>
<h4 id="坑点">坑点</h4>
<p><strong>给<code>canvas</code>设置宽高的时候要通过内嵌的属性<code>width</code>和<code>height</code>来设置，如果通过CSS设置则会失真</strong></p>
<blockquote>
<p>PS：通过CSS设置，相当于把默认画布大小（<code>302*152</code>左右）拉伸一下</p>
</blockquote>
<p><strong>PS：<code>SVG</code>是矢量图，<code>Canvas</code>是位图</strong></p>
<h3 id="h5结语">H5结语</h3>
<p>应该，貌似，没有忘记说的吧？几年前贴的思维导图（学习笔记）虽然丑了点，但知识还是挺全的，不清楚的点可以翻哦~</p>
<blockquote>
<p>Web大前端时代之：HTML5+CSS3入门系列：<a href="http://www.cnblogs.com/dunitian/p/5121725.html" class="uri">http://www.cnblogs.com/dunitian/p/5121725.html</a></p>
</blockquote>
<p>最后贴一下Demo：</p>
<ol>
<li>new：<a href="https://github.com/lotapp/BaseCode/tree/master/javascript/0.H5_C3/H5" class="uri">https://github.com/lotapp/BaseCode/tree/master/javascript/0.H5_C3/H5</a></li>
<li>old：<a href="https://github.com/dunitian/LoTHTML5" class="uri">https://github.com/dunitian/LoTHTML5</a></li>
</ol>
<p><strong>下节预估：<code>一文入门CSS3</code></strong></p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>